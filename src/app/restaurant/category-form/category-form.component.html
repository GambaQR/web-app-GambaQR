<div
  class="w-full max-w-2xl max-h-[90vh] overflow-y-auto text-gray-900 dark:text-white"
>
  <div class="p-6">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-xl font-bold">
        {{ category ? "Editar Categoría" : "Nueva Categoría" }}
      </h2>
    </div>

    <form
      [formGroup]="categoryForm"
      (ngSubmit)="handleSubmit()"
      class="space-y-4"
    >
      <div>
        <label
          for="name"
          class="block text-sm font-light text-gray-600 dark:text-gray-400 mb-1"
          >Nombre de la Categoría *</label
        >
        <input
          id="name"
          formControlName="name"
          placeholder="Ej: Platos Principales"
          class="w-full px-3 py-2 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-colors outline outline-gray-600 dark:outline-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-purple-600 focus:shadow-[0_0_3px_0px] focus:shadow-purple-600"
          [ngClass]="{ 'border-red-500': confirmarCampo('name') }"
        />
        <p
          *ngIf="
            confirmarCampo('name') &&
            categoryForm.get('name')?.hasError('required')
          "
          class="text-red-500 text-sm mt-1"
        >
          El nombre es requerido.
        </p>
      </div>

      <div>
        <label
          for="description"
          class="block text-sm font-light text-gray-600 dark:text-gray-400 mb-1"
          >Descripción *</label
        >
        <textarea
          id="description"
          formControlName="description"
          placeholder="Describe esta categoría..."
          class="w-full px-3 py-2 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-colors outline outline-gray-600 dark:outline-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-purple-600 focus:shadow-[0_0_3px_0px] focus:shadow-purple-600 min-h-[80px]"
          [ngClass]="{ 'border-red-500': confirmarCampo('description') }"
        ></textarea>
        <p
          *ngIf="
            confirmarCampo('description') &&
            categoryForm.get('description')?.hasError('required')
          "
          class="text-red-500 text-sm mt-1"
        >
          La descripción es requerida.
        </p>
      </div>

      <div class="flex gap-2 pt-4">
        <button
          type="submit"
          class="flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"
        >
          {{ category ? "Actualizar" : "Crear" }} Categoría
        </button>
        <button
          type="button"
          (click)="onCancel.emit()"
          class="flex-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-900 dark:text-white font-medium py-2 px-4 rounded-lg transition-colors shadow-sm"
        >
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
